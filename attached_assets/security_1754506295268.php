
                


    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "HowTo",
      "name": "Как получить кэшбек за новостройку",
      "description": "Пошаговая инструкция получения кэшбека при покупке квартиры в новостройке",
      "totalTime": "P60D",
      "step": [
        {
          "@type": "HowToStep",
          "text": "Зарегистрируйтесь на сайте или оставьте заявку",
          "name": "Регистрация на сайте"
        },
        {
          "@type": "HowToStep",
          "text": "Выберите новостройку из каталога или укажите уже выбранную",
          "name": "Выбор новостройки"
        },
        {
          "@type": "HowToStep",
          "text": "Мы регистрируем вас как нашего клиента у застройщика перед покупкой",
          "name": "Оформление сделки"
        },
        {
          "@type": "HowToStep",
          "text": "После оформления собственности деньги поступают на ваш счет",
          "name": "Получение кэшбека"
        }
      ]
    }
    // Helper to format numbers with spaces
                function formatNumber(num) {
                    return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ' ');
                }
    </script>


    <script type="application/ld+json">
    { 
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "name": "Главная",
        "item": "https://inback.ru/"
      },{
        "@type": "ListItem",
        "position": 2,
        "name": "Как это работает",
        "item": "https://inback.ru/kak-eto-rabotaet"
      }]
    }
    </script>


<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Social Meta Tags -->
    <meta property="og:title" content="Кэшбек за новостройки в Краснодаре до 500 000 ₽ | inback">
    <meta property="og:description" content="Вернём до 10% стоимости квартиры при покупке новостройки в Краснодаре. Бесплатная юридическая поддержка.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://inback.ru/">
    <meta property="og:image" content="https://inback.ru/social-preview.jpg">
    <meta property="og:site_name" content="inback">
    <meta name="twitter:card" content="summary_large_image">
    <title>Кэшбек за новостройки в Краснодаре до 500 000 ₽ | inback</title>
    <meta name="description" content="Как получить кэшбек 2,5-10% за новостройку? Пошаговая инструкция работы сервиса Inback. Официальный возврат денег от застройщика при покупке квартиры в Краснодаре">
    <meta name="keywords" content="как получить кэшбек за квартиру, кэшбек за новостройку, возврат денег за квартиру, система кэшбека inback, оформление кэшбека, этапы получения кэшбека">
    <meta property="og:title" content="Как получить кэшбек 2,5-10% за новостройку? | Пошаговая инструкция">
    <meta property="og:description" content="Узнайте, как работает система кэшбека Inback при покупке квартиры в новостройке. 4 простых шага для получения возврата денег от застройщика">
    <link rel="canonical" href="https://inback.ru/kak-eto-rabotaet" />
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://inback.ru/" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "RealEstateAgent",
      "name": "Inback",
      "image": "https://inback.ru/logo.jpg",
      "description": "Официальный сервис возврата кэшбека при покупке недвижимости в Краснодаре и других городах России",
      "priceRange": "$",
      "areaServed": {
        "@type": "AdministrativeArea",
        "name": "Краснодар и Краснодарский край"
      },
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "ул. Красная, 32",
        "addressLocality": "Краснодар",
        "addressRegion": "Краснодарский край" 
      },
      "telephone": "+78001231212",
      "openingHoursSpecification": {
        "@type": "OpeningHoursSpecification",
        "dayOfWeek": [
          "Monday",
          "Tuesday",
          "Wednesday",
          "Thursday",
          "Friday"
        ],
        "opens": "09:00",
        "closes": "19:00"
      }
    }
    </script>
      <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        ton: {
                            blue: '#0088cc',
                            dark: '#222426',
                            light: '#f5f5f5',
                            accent: '#00a3e0',
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #0088CC 0%, #006699 100%);
        }

        .hero-gradient {
            background: linear-gradient(135deg, rgba(0,136,204,0.08) 0%, rgba(0,163,224,0.08) 100%), #ffffff;
        }

        .btn-primary {
            background: linear-gradient(135deg, #0088CC 0%, #006699 100%);
            color: white;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            opacity: 0.9;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 104, 155, 0.3);
        }

        .btn-secondary {
            background: white;
            color: #0088CC;
            border: 1px solid #0088CC;
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            background: rgba(0, 136, 204, 0.05);
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 136, 204, 0.15);
            transition: all 0.3s ease;
        }
        
        .transition-all {
            transition: all 0.3s ease;
        }
        
        .gradient-text {
            background: linear-gradient(135deg, #0088CC 0%, #006699 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
            background-color: #f9fafb;
            color: #111827;
        }



        .shadow-sm {
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.04);
        }

        .transition-all {
            transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .typewriter {
            display: inline-block;
            position: relative;
        }
        
        .typewriter-text {
            background: linear-gradient(135deg, #006699 0%, #0088CC 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: inline-block;
        }
        
        .typewriter::after {
            content: "|";
            position: absolute;
            right: -8px;
            animation: blink 0.7s infinite;
        }
        
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }
        
        .property-card {
            transition: all 0.3s ease;
        }
        
        .property-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .search-box {
            box-shadow: 0 10px 25px rgba(0, 136, 204, 0.2);
        }
        
        .loading-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0088CC;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            animation: fadeOut 0.5s 2s forwards;
        }
        
        @keyframes fadeOut {
            to {
                opacity: 0;
                visibility: hidden;
            }
        }
        
        @keyframes ping {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(1.5); opacity: 0; }
        }
        
        .animate-ping {
            animation: ping 1.5s cubic-bezier(0, 0, 0.2, 1) infinite;
        }
        
        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .animation-delay-200 {
            animation-delay: 0.2s;
        }
        
        .animation-delay-400 {
            animation-delay: 0.4s;
        }
        
        .modal {
            transition: opacity 0.3s ease;
        }
        
        .step-item:not(:last-child):after {
            content: '';
            position: absolute;
            right: -2rem;
            top: 50%;
            transform: translateY(-50%);
            width: 4rem;
            height: 2px;
            background: rgb(0 136 204 / var(--tw-bg-opacity, 1));
        }

        /* Carousel dots */
        .carousel-dot {
            transition: all 0.3s ease;
        }
        .carousel-dot.active {
            opacity: 1;
            transform: scale(1.3);
        }

        /* Modern Filters */
        .dropdown-toggle {
            transition: all 0.2s ease;
        }
        
        .dropdown-toggle svg {
            transition: transform 0.2s ease;
        }
        
        .dropdown.active .dropdown-toggle svg {
            transform: rotate(180deg);
        }
        
        .dropdown.active .dropdown-toggle {
            border-color: #0088CC;
            box-shadow: 0 0 0 1px #0088CC;
        }
        
        .dropdown-menu {
            opacity: 0;
            transform: translateY(5px);
            transition: all 0.2s ease;
            pointer-events: none;
        }
        
        .dropdown.active .dropdown-menu {
            opacity: 1;
            transform: translateY(0);
            pointer-events: all;
        }
        /* Compact dropdown menu */
        .dropdown {
            position: relative;
            display: inline-block;
        }
        
        .dropdown-btn {
            background: transparent;
            border: none;
            color: #141A24;
            font-weight: 500;
            padding: 0.5rem 0.75rem;
            border-radius: 0.5rem;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.2s;
            white-space: nowrap;
        }
        
        .dropdown-btn:hover {
            background: rgba(0, 136, 204, 0.1);
        }
        
        .dropdown-btn svg {
            width: 16px;
            height: 16px;
            transition: transform 0.2s;
        }
        
        .dropdown-btn.open svg {
            transform: rotate(180deg);
        }
        
        .dropdown-menu {
            position: absolute;
            top: calc(100% + 8px);
            left: 0;
            background: white;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1), 0 1px 3px rgba(0, 0, 0, 0.08);
            padding: 0.5rem 0;
            min-width: 200px;
            z-index: 50;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.2s ease-out;
            pointer-events: none;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .dropdown-menu.open,
        .group:hover .dropdown-menu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
            pointer-events: auto;
        }

        .dropdown-item {
            padding: 0.5rem 1.5rem;
            display: flex;
            align-items: center;
            white-space: nowrap;
        }

        .dropdown-item:hover {
            background-color: rgba(0, 136, 204, 0.05);
        }

        input[type="checkbox"]:checked {
            background-color: rgb(0, 136, 204);
            border-color: rgb(0, 136, 204);
        }
        
        .dropdown-item {
            padding: 0.5rem 1rem;
            color: #141A24;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.2s;
            font-size: 0.9rem;
        }
        
        .dropdown-item:hover {
            background: rgba(0, 136, 204, 0.1);
            color: #0088CC;
        }
        
        .dropdown-item svg {
            width: 14px;
            height: 14px;
        }

        /* Selected filters */
        .selected-filter {
            background-color: #f5f3ff;
            color: #6d28d9;
            padding: 0.375rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            display: inline-flex;
            align-items: center;
        }
        
        /* Filter badge */
        .filter-badge {
            position: absolute;
            top: -6px;
            right: -6px;
            background-color: #0088CC;
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        /* Footer menu styles */
        .footer-menu-group {
            margin-bottom: 1.5rem;
        }
        
        .footer-submenu {
            transition: all 0.3s ease;
        }
        
        @media (min-width: 768px) {
            .footer-submenu {
                display: block !important;
            }
        }
        
        @media (max-width: 768px) {
            .step-item:not(:last-child):after {
                display: none;
            }
        }

        .ton-bg {
            background: linear-gradient(145deg, #0088cc, #7e5bef);
        }
        .ton-text-gradient {
            background: linear-gradient(90deg, #0088cc, #7e5bef);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .scroll-hidden::-webkit-scrollbar {
            display: none;
        }
        .amenity-icon {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 136, 204, 0.1);
            border-radius: 6px;
            color: #0088cc;
        }
        .swiper-button-prev, .swiper-button-next {
            color: white;
            background: rgba(0,0,0,0.5);
            width: 40px;
            height: 40px;
            border-radius: 50%;
        }
        .swiper-button-prev:after, .swiper-button-next:after {
            font-size: 20px;
            font-weight: bold;
        }
    </style>
</head>
<body class="bg-white">
    <!-- Loading Animation -->
    <div class="loading-animation bg-gradient-to-b from-[#006699] to-[#0088CC]">
        <div class="relative w-32 h-32">
            <div class="absolute inset-0 rounded-full border-[10px] border-white/20 animate-ping"></div>
            <div class="absolute inset-[15px] rounded-full border-[10px] border-white/30 animate-ping animation-delay-200"></div>
            <div class="absolute inset-[30px] rounded-full border-[10px] border-white/40 animate-ping animation-delay-400"></div>
            <div class="absolute inset-1/2 -translate-x-1/2 -translate-y-1/2 w-16 h-16 rounded-full bg-white flex items-center justify-center">
                <div class="w-8 h-8 rounded-full gradient-bg"></div>
            </div>
        </div>
        <div class="mt-8 text-white text-xl font-semibold">Загружаем лучшие предложения...</div>
    </div>

   

   
  <?php include 'header.php'; ?>


    <!-- Breadcrumbs -->
    <div class="container mx-auto px-4 py-4">
        <nav class="flex" aria-label="Breadcrumb">
            <ol class="inline-flex items-center space-x-1 md:space-x-3">
                <li class="inline-flex items-center">
                    <a href="#" class="text-blue-600 hover:text-blue-800 inline-flex items-center">
                        <i class="fas fa-home mr-2"></i>
                        Главная
                    </a>
                </li>
                <li>
                    <div class="flex items-center">
                        <i class="fas fa-chevron-right text-gray-400 mx-2"></i>
                        <a href="#" class="text-blue-600 hover:text-blue-800">Безопасная сделка</a>
                    </div>
                </li>
            </ol>
        </nav>
    </div>

     <!-- Hero Section -->
    <section class="gradient-bg text-white py-16 md:py-24">
        <div class="container mx-auto px-4">
            <div class="max-w-4xl mx-auto text-center">
                <h2 class="text-3xl md:text-5xl font-bold mb-6">Гарантии безопасности вашей сделки</h2>
                <p class="text-xl md:text-2xl opacity-90 mb-8">Clickback обеспечивает максимальную защиту при покупке квартиры в новостройке с кешбеком</p>
                <button class="ton-button text-white font-semibold py-3 px-8 rounded-full">Получить кешбек</button>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <div class="max-w-4xl mx-auto mb-16 text-center">
                <h3 class="text-3xl font-bold text-gray-800 mb-4">Как мы защищаем наши сделки</h3>
                <p class="text-gray-600">Мы внедрили многоуровневую систему проверок, чтобы ваш кешбек был надежно защищен</p>
            </div>
            
            <div class="grid md:grid-cols-3 gap-8">
                <!-- Feature 1 -->
                <div class="bg-gray-50 p-8 rounded-2xl card-shadow">
                    <div class="feature-circle rounded-full flex items-center justify-center mb-6">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#29a6dc" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                        </svg>
                    </div>
                    <h4 class="text-xl font-semibold text-gray-800 mb-3">Проверенные застройщики</h4>
                    <p class="text-gray-600">Мы сотрудничаем только с надежными застройщиками, которые прошли строгий отбор и проверку финансовой устойчивости.</p>
                </div>
                
                <!-- Feature 2 -->
                <div class="bg-gray-50 p-8 rounded-2xl card-shadow">
                    <div class="feature-circle rounded-full flex items-center justify-center mb-6">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#29a6dc" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>
                        </svg>
                    </div>
                    <h4 class="text-xl font-semibold text-gray-800 mb-3">Юридическая экспертиза</h4>
                    <p class="text-gray-600">Каждая сделка проверяется нашими юристами. Мы контролируем правильность заполнения документов и соответствие законодательству.</p>
                </div>
                
                <!-- Feature 3 -->
                <div class="bg-gray-50 p-8 rounded-2xl card-shadow">
                    <div class="feature-circle rounded-full flex items-center justify-center mb-6">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#29a6dc" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                            <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                        </svg>
                    </div>
                    <h4 class="text-xl font-semibold text-gray-800 mb-3">Защита выплат</h4>
                    <p class="text-gray-600">Ваши выплаты застрахованы. В случае форс-мажора мы гарантируем возврат средств через страховой фонд.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section class="py-16 bg-gray-50">
        <div class="container mx-auto px-4">
            <div class="max-w-4xl mx-auto mb-16 text-center">
                <h3 class="text-3xl font-bold text-gray-800 mb-4">Как работает наша система безопасности</h3>
                <p class="text-gray-600">Пошаговый процесс, обеспечивающий безопасность вашей сделки и выплаты кешбека</p>
            </div>
            
            <div class="max-w-3xl mx-auto">
                <!-- Step 1 -->
                <div class="flex flex-col md:flex-row mb-12">
                    <div class="md:w-1/3 mb-6 md:mb-0 flex md:justify-end pr-8">
                        <div class="w-16 h-16 rounded-full gradient-bg flex items-center justify-center text-white font-bold text-xl">1</div>
                    </div>
                    <div class="md:w-2/3">
                        <h4 class="text-xl font-semibold text-gray-800 mb-3">Проверка застройщика</h4>
                        <p class="text-gray-600">Прежде чем добавить застройщика в нашу систему, мы проводим тщательную проверку его финансового состояния, репутации и истории завершенных проектов.</p>
                    </div>
                </div>
                
                <div class="divider my-8"></div>
                
                <!-- Step 2 -->
                <div class="flex flex-col md:flex-row mb-12">
                    <div class="md:w-1/3 mb-6 md:mb-0 flex md:justify-end pr-8">
                        <div class="w-16 h-16 rounded-full gradient-bg flex items-center justify-center text-white font-bold text-xl">2</div>
                    </div>
                    <div class="md:w-2/3">
                        <h4 class="text-xl font-semibold text-gray-800 mb-3">Верификация сделки</h4>
                        <p class="text-gray-600">После регистрации сделки в нашей системе мы запрашиваем у застройщика подтверждение факта покупки и проверяем подлинность всех документов.</p>
                    </div>
                </div>
                
                <div class="divider my-8"></div>
                
                <!-- Step 3 -->
                <div class="flex flex-col md:flex-row mb-12">
                    <div class="md:w-1/3 mb-6 md:mb-0 flex md:justify-end pr-8">
                        <div class="w-16 h-16 rounded-full gradient-bg flex items-center justify-center text-white font-bold text-xl">3</div>
                    </div>
                    <div class="md:w-2/3">
                        <h4 class="text-xl font-semibold text-gray-800 mb-3">Резервирование средств</h4>
                        <p class="text-gray-600">Сумма вашего кешбека резервируется на специальном счете сразу после подтверждения сделки, что гарантирует его выплату в установленные сроки.</p>
                    </div>
                </div>
                
                <div class="divider my-8"></div>
                
                <!-- Step 4 -->
                <div class="flex flex-col md:flex-row">
                    <div class="md:w-1/3 mb-6 md:mb-0 flex md:justify-end pr-8">
                        <div class="w-16 h-16 rounded-full gradient-bg flex items-center justify-center text-white font-bold text-xl">4</div>
                    </div>
                    <div class="md:w-2/3">
                        <h4 class="text-xl font-semibold text-gray-800 mb-3">Автоматическая выплата</h4>
                        <p class="text-gray-600">Как только ваш ДДУ будет зарегистрирован в Росреестре, система автоматически инициирует перевод кешбека на ваш счет без необходимости дополнительных действий.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <div class="max-w-4xl mx-auto mb-16 text-center">
                <h3 class="text-3xl font-bold text-gray-800 mb-4">Частые вопросы о безопасности</h3>
                <p class="text-gray-600">Ответы на самые популярные вопросы о защите вашей сделки</p>
            </div>
            
            <div class="max-w-3xl mx-auto">
                <div class="mb-6 border-b pb-6">
                    <button class="flex justify-between items-center w-full text-left">
                        <h4 class="text-lg font-semibold text-gray-800">Как я могу быть уверен, что получу кешбек?</h4>
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#29a6dc" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="transform rotate-0">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </button>
                    <div class="mt-3 text-gray-600">
                        <p>Мы работаем по модели escrow - средства кешбека резервируются на специальном счете сразу после подтверждения сделки. Дополнительно, все выплаты застрахованы через партнерскую страховую компанию.</p>
                    </div>
                </div>
                
                <div class="mb-6 border-b pb-6">
                    <button class="flex justify-between items-center w-full text-left">
                        <h4 class="text-lg font-semibold text-gray-800">Какие документы мне нужно предоставить для получения кешбека?</h4>
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#29a6dc" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="transform rotate-0">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </button>
                    <div class="mt-3 text-gray-600">
                        <p>Для оформления кешбека потребуется копия договора ДДУ, подтверждение оплаты и документы, удостоверяющие личность. Все данные передаются по защищенному каналу связи.</p>
                    </div>
                </div>
                
                <div class="mb-6 border-b pb-6">
                    <button class="flex justify-between items-center w-full text-left">
                        <h4 class="text-lg font-semibold text-gray-800">Что произойдет, если застройщик обанкротится?</h4>
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#29a6dc" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="transform rotate-0">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </button>
                    <div class="mt-3 text-gray-600">
                        <p>В случае банкротства застройщика ваши права на квартиру защищены законом о долевом строительстве. Что касается кешбека - он выплачивается из наших резервных фондов независимо от финансового состояния застройщика.</p>
                    </div>
                </div>
                
                <div class="mb-6">
                    <button class="flex justify-between items-center w-full text-left">
                        <h4 class="text-lg font-semibold text-gray-800">Как защищены мои персональные данные?</h4>
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#29a6dc" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="transform rotate-0">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </button>
                    <div class="mt-3 text-gray-600">
                        <p>Мы используем современные методы шифрования данных и строго соблюдаем требования Федерального закона "О персональных данных". Ваша информация не передается третьим лицам без вашего согласия.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="gradient-bg text-white py-16">
        <div class="container mx-auto px-4">
            <div class="max-w-4xl mx-auto text-center">
                <h3 class="text-3xl font-bold mb-6">Готовы получить кешбек за покупку квартиры?</h3>
                <p class="text-xl opacity-90 mb-8">Зарегистрируйтесь сейчас и получите гарантированный возврат части средств</p>
                <div class="flex flex-col sm:flex-row justify-center gap-4">
                    <button class="ton-button text-white font-semibold py-3 px-8 rounded-full">Зарегистрироваться</button>
                    <button class="bg-white text-blue-600 font-semibold py-3 px-8 rounded-full hover:bg-gray-100 transition">Узнать больше</button>
                </div>
            </div>
        </div>
    </section>

   <?php include 'footer.php'; ?>
</body>
   

    <script>
        // Toggle FAQ items
        function toggleFAQ(id) {
            const content = document.getElementById(`faq-content-${id}`);
            const icon = document.getElementById(`faq-icon-${id}`);
            
            content.classList.toggle('hidden');
            icon.classList.toggle('rotate-180');
        }
        
        // Mobile menu toggle would be implemented here
    </script>
	
	<script>
        // Dropdown menu functionality
        function toggleDropdown(element) {
            const dropdown = element.closest('.dropdown');
            const menu = dropdown.querySelector('.dropdown-menu');
            const isOpen = menu.classList.contains('open');
            
            // Close all other dropdowns first
            document.querySelectorAll('.dropdown-menu.open').forEach(openMenu => {
                if (openMenu !== menu) {
                    openMenu.classList.remove('open');
                    openMenu.previousElementSibling.classList.remove('open');
                }
            });
            
            // Toggle current dropdown
            menu.classList.toggle('open');
            dropdown.querySelector('.dropdown-btn').classList.toggle('open');
        }

        // Close dropdowns when clicking outside
        function toggleDropdown(button) {
            const dropdown = button.closest('.dropdown');
            const menu = dropdown.querySelector('.dropdown-menu');
            
            // Close all other open dropdowns first
            document.querySelectorAll('.dropdown-menu.open').forEach(openMenu => {
                if (openMenu !== menu) {
                    openMenu.classList.remove('open');
                    openMenu.previousElementSibling.classList.remove('open');
                }
            });
            
            // Toggle current dropdown
            menu.classList.toggle('open');
            button.classList.toggle('open');
        }

        document.addEventListener('click', function(e) {
            if (!e.target.closest('.dropdown')) {
                document.querySelectorAll('.dropdown-menu.open').forEach(menu => {
                    menu.classList.remove('open');
                    menu.previousElementSibling.classList.remove('open');
                });
            }
        });

        // Footer menu functionality
        function toggleFooterMenu(header) {
            if (window.innerWidth >= 768) return;
            
            const group = header.closest('.footer-menu-group');
            const submenu = group.querySelector('.footer-submenu');
            const icon = header.querySelector('svg');
            
            // Toggle submenu
            submenu.classList.toggle('hidden');
            
            // Rotate icon
            icon.classList.toggle('rotate-180');
        }
        
        // Close dropdowns when clicking outside
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.dropdown')) {
                document.querySelectorAll('.dropdown-menu').forEach(menu => {
                    menu.classList.remove('open');
                    menu.previousElementSibling.classList.remove('open');
                });
            }
        });

        // Initialize all carousels on page
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.carousel').forEach(carousel => {
                const inner = carousel.querySelector('.carousel-inner');
                const items = inner.querySelectorAll('.carousel-item');
                const dots = carousel.querySelectorAll('.carousel-dot');
                const prevBtn = carousel.querySelector('.carousel-prev');
                const nextBtn = carousel.querySelector('.carousel-next');
                
                let currentIndex = 0;
                
                function updateCarousel() {
                    inner.style.transform = `translateX(-${currentIndex * 100}%)`;
                    
                    // Update dots
                    dots.forEach((dot, index) => {
                        dot.classList.toggle('active', index === currentIndex);
                    });
                }
                
                // Navigation buttons
                if (prevBtn) {
                    prevBtn.addEventListener('click', () => {
                        currentIndex = (currentIndex > 0) ? currentIndex - 1 : items.length - 1;
                        updateCarousel();
                    });
                }
                
                if (nextBtn) {
                    nextBtn.addEventListener('click', () => {
                        currentIndex = (currentIndex < items.length - 1) ? currentIndex + 1 : 0;
                        updateCarousel();
                    });
                }
                
                // Dot navigation
                dots.forEach((dot, index) => {
                    dot.addEventListener('click', () => {
                        currentIndex = index;
                        updateCarousel();
                    });
                });
                
                // Auto-rotate every 5 seconds
                let interval = setInterval(() => {
                    currentIndex = (currentIndex < items.length - 1) ? currentIndex + 1 : 0;
                    updateCarousel();
                }, 5000);
                
                // Pause on hover
                carousel.addEventListener('mouseenter', () => clearInterval(interval));
                carousel.addEventListener('mouseleave', () => {
                    interval = setInterval(() => {
                        currentIndex = (currentIndex < items.length - 1) ? currentIndex + 1 : 0;
                        updateCarousel();
                    }, 5000);
                });
            });
        });
    </script>
	  <script>
        // Typewriter animation
        function setupTypewriter() {
            const el = document.getElementById('typewriter');
            const changingTexts = [
                "кэшбеком до 5%",
                "платежами в подарок",
                "выгодой до 500 000 ₽"
            ];
            
            let part = '';
            const staticPrefix = 'с ';
            let textIndex = 0;
            let isDeleting = false;
            let typingSpeed = 100;
            let deletingSpeed = 50;
            let pauseAfterType = 2000;
            let pauseAfterDelete = 500;

            function tick() {
                const fullChangingText = changingTexts[textIndex];
                
                if (isDeleting) {
                    part = fullChangingText.substring(0, part.length - 1);
                    el.innerHTML = '<span class="typewriter-text gradient-text">' + part + '</span>';
                    
                    if (part === '') {
                        isDeleting = false;
                        textIndex = (textIndex + 1) % changingTexts.length;
                        setTimeout(tick, pauseAfterDelete);
                    } else {
                        setTimeout(tick, deletingSpeed);
                    }
                } else {
                    part = fullChangingText.substring(0, part.length + 1);
                    el.innerHTML = '<span class="typewriter-text">' + staticPrefix + part + '</span>';
                    
                    if (part === fullChangingText) {
                        isDeleting = true;
                        setTimeout(tick, pauseAfterType);
                    } else {
                        setTimeout(tick, typingSpeed);
                    }
                }
            }

            el.innerHTML = '<span class="typewriter-text gradient-text">' + staticPrefix + changingTexts[0].substring(0, 1) + '</span>';
            setTimeout(tick, 1000); // Start animation after 1 second
        }

        // Loading animation
        window.addEventListener('load', function() {
            setTimeout(function() {
                document.querySelector('.loading-animation').style.display = 'none';
            }, 2000);
        });

        // Mobile menu toggle
        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            menu.classList.toggle('hidden');
            // Close all submenus when closing main menu
            if (menu.classList.contains('hidden')) {
                document.querySelectorAll('.mobile-submenu').forEach(submenu => {
                    submenu.classList.add('hidden');
                });
            }
        }

        // Mobile submenu toggle
        function toggleSubMenu(id) {
            const submenu = document.getElementById(id);
            submenu.classList.toggle('hidden');
        }

        // Modal functions
        function openApplicationModal() {
            document.getElementById('applicationModal').classList.remove('hidden');
        }

        function openLoginModal() {
            document.getElementById('loginModal').classList.remove('hidden');
        }

        function openRegisterModal() {
            closeModal('loginModal');
            document.getElementById('registerModal').classList.remove('hidden');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.add('hidden');
        }

        // Login/logout simulation
        function loginUser() {
            closeModal('loginModal');
            document.getElementById('accountModal').classList.remove('hidden');
        }

        function logoutUser() {
            closeModal('accountModal');
        }

        // Toggle filters panel
        document.getElementById('toggleFilters').addEventListener('click', function() {
            const panel = document.getElementById('filtersPanel');
            panel.classList.toggle('hidden');
            this.querySelector('i').classList.toggle('fa-sliders-h');
            this.querySelector('i').classList.toggle('fa-times');
        });

        // Initialize all carousels
        function initCarousels() {
            document.querySelectorAll('.carousel').forEach(carousel => {
                const inner = carousel.querySelector('.carousel-inner');
                const items = inner.querySelectorAll('.carousel-item');
                const dots = carousel.querySelectorAll('.carousel-dot');
                
                // Set initial active dot
                dots[0].classList.add('active');
                
                // Clone first and last items for infinite scroll
                const firstClone = inner.firstElementChild.cloneNode(true);
                const lastClone = inner.lastElementChild.cloneNode(true);
                inner.appendChild(firstClone);
                inner.insertBefore(lastClone, inner.firstElementChild);
                
                let currentIndex = 1;
                const itemWidth = items[0].clientWidth;
                inner.style.transform = `translateX(-${currentIndex * itemWidth}px)`;
                
                // Auto-rotate every 5 seconds
                let interval = setInterval(nextSlide, 5000);
                
                function nextSlide() {
                    currentIndex++;
                    inner.style.transition = 'transform 0.5s ease-in-out';
                    inner.style.transform = `translateX(-${currentIndex * itemWidth}px)`;
                    updateDots();
                }
                
                function prevSlide() {
                    currentIndex--;
                    inner.style.transition = 'transform 0.5s ease-in-out';
                    inner.style.transform = `translateX(-${currentIndex * itemWidth}px)`;
                    updateDots();
                }
                
                function updateDots() {
                    let realIndex = currentIndex;
                    if (currentIndex === 0) realIndex = items.length - 2;
                    if (currentIndex === items.length - 1) realIndex = 1;
                    
                    dots.forEach((dot, index) => {
                        dot.classList.toggle('active', index === (realIndex - 1) % (items.length - 2));
                    });
                }
                
                // Reset position when reaching clones
                inner.addEventListener('transitionend', () => {
                    if (currentIndex === 0) {
                        inner.style.transition = 'none';
                        currentIndex = items.length - 2;
                        inner.style.transform = `translateX(-${currentIndex * itemWidth}px)`;
                    } else if (currentIndex === items.length - 1) {
                        inner.style.transition = 'none';
                        currentIndex = 1;
                        inner.style.transform = `translateX(-${currentIndex * itemWidth}px)`;
                    }
                });
                
                // Navigation buttons
                if (carousel.querySelector('.carousel-next')) {
                    carousel.querySelector('.carousel-next').addEventListener('click', () => {
                        clearInterval(interval);
                        nextSlide();
                        interval = setInterval(nextSlide, 5000);
                    });
                }
                
                if (carousel.querySelector('.carousel-prev')) {
                    carousel.querySelector('.carousel-prev').addEventListener('click', () => {
                        clearInterval(interval);
                        prevSlide();
                        interval = setInterval(nextSlide, 5000);
                    });
                }
                
                // Dot navigation
                dots.forEach((dot, index) => {
                    dot.addEventListener('click', () => {
                        clearInterval(interval);
                        currentIndex = index + 1;
                        inner.style.transition = 'transform 0.5s ease-in-out';
                        inner.style.transform = `translateX(-${currentIndex * itemWidth}px)`;
                        updateDots();
                        interval = setInterval(nextSlide, 5000);
                    });
                });
            });
        }
        
        // Count active filters
        function updateActiveFiltersCount() {
            const activeCheckboxes = document.querySelectorAll('input[type="checkbox"]:checked');
            const activeSelects = Array.from(document.querySelectorAll('select'))
                .filter(select => select.value !== '');
            
            // Count other active inputs like price ranges, area ranges etc.
            const activeTextInputs = Array.from(document.querySelectorAll('input[type="text"], input[type="number"]'))
                .filter(input => input.value !== '');
            
            const totalFilters = activeCheckboxes.length + activeSelects.length + activeTextInputs.length;
            const badge = document.getElementById('activeFilterBadge');
            
            if (totalFilters > 0) {
                badge.textContent = totalFilters;
                badge.classList.remove('hidden');
            } else {
                badge.classList.add('hidden');
            }
        }

        // Initialize on load
        document.addEventListener('DOMContentLoaded', function() {
            // Add event listeners for all filter elements
            document.querySelectorAll('input[type="checkbox"], select, input[type="text"], input[type="number"]').forEach(element => {
                element.addEventListener('change', updateActiveFiltersCount);
                element.addEventListener('input', updateActiveFiltersCount);
            });
            
            setupDropdowns();
            setupTypewriter();
            initCarousels();
            
            // Initial count
            updateActiveFiltersCount();
            
            // Filter buttons functionality
            document.querySelectorAll('.room-filter-btn, .class-filter-btn, .condition-filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    if (this.classList.contains('active')) {
                        this.classList.remove('active');
                    } else {
                        // For radio-like behavior (only one active in group)
                        if (btn.classList.contains('class-filter-btn')) {
                            btn.closest('div').querySelectorAll('.class-filter-btn').forEach(b => b.classList.remove('active'));
                        }
                        this.classList.add('active');
                    }
                    updateSelectedFilters();
                });
            });
            
            function updateSelectedFilters() {
                const activeFilters = document.querySelectorAll('.room-filter-btn.active, .class-filter-btn.active, .condition-filter-btn.active');
                if (activeFilters.length > 0) {
                    document.getElementById('selectedFilters').classList.remove('hidden');
                } else {
                    document.getElementById('selectedFilters').classList.add('hidden');
                }
            }
        });

        // Calculator functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Get all calculator elements
            const priceInput = document.getElementById('price-input');
            const priceSlider = document.getElementById('price');
            const initialInput = document.getElementById('initial-input');
            const initialSlider = document.getElementById('initial');
            const termInput = document.getElementById('term-input');
            const termSlider = document.getElementById('term');
            const rateSelect = document.getElementById('rate');
            const creditSumEl = document.getElementById('credit-sum');
            const monthlyPaymentEl = document.getElementById('monthly-payment');
            const overpaymentEl = document.getElementById('overpayment');
            const cashbackEl = document.getElementById('cashback');
            const cashbackCheckbox = document.querySelector('input[name="cashback"]');

            // Connect inputs and sliders
            function connectInputAndSlider(input, slider, formatFn) {
                input.addEventListener('input', function() {
                    let value = input.value.replace(/\s/g, ''); // Remove spaces
                    if (!isNaN(value)) {
                        slider.value = value;
                        updateCalculator();
                    }
                });
                
                slider.addEventListener('input', function() {
                    input.value = formatFn(slider.value);
                    updateCalculator();
                });
            }

            // Format price with spaces
            function formatPrice(value) {
                return parseInt(value).toLocaleString('ru-RU');
            }

            // Format percent
            function formatPercent(value) {
                return value;
            }

            // Initialize connections
            connectInputAndSlider(priceInput, priceSlider, formatPrice);
            connectInputAndSlider(initialInput, initialSlider, formatPercent);
            connectInputAndSlider(termInput, termSlider, formatPercent);

            // Main calculator function
            function updateCalculator() {
                // Get values
                const price = parseInt(priceInput.value.replace(/\s/g, '')) || 5000000;
                const initialPercent = parseInt(initialSlider.value) || 15;
                const termYears = parseInt(termSlider.value) || 15;
                const ratePercent = parseFloat(rateSelect.value) || 14.99;
                const cashbackPercentage = 2; // 2% cashback
                
                // Calculate loan amount with program-specific rules
                let loanAmount;
                const programType = rateSelect.options[rateSelect.selectedIndex].text;
                
                if (programType.includes('Семейная') || programType.includes('Сельская')) {
                    // Max loan is 6 million, rest is down payment
                    const maxLoan = 6000000;
                    const requiredDownPayment = Math.max(0, price - maxLoan);
                    const calculatedDownPayment = price * initialPercent / 100;
                    
                    // Use the larger of required or user-specified down payment
                    const effectiveDownPayment = Math.max(requiredDownPayment, calculatedDownPayment);
                    loanAmount = price - effectiveDownPayment;
                    
                    // Show warning if down payment is too low
                    if (calculatedDownPayment < requiredDownPayment) {
                        initialInput.classList.add('border-red-500');
                    } else {
                        initialInput.classList.remove('border-red-500');
                    }
                } 
                else if (programType.includes('IT')) {
                    // Max loan is 9 million, rest is down payment
                    const maxLoan = 9000000;
                    const requiredDownPayment = Math.max(0, price - maxLoan);
                    const calculatedDownPayment = price * initialPercent / 100;
                    
                    const effectiveDownPayment = Math.max(requiredDownPayment, calculatedDownPayment);
                    loanAmount = price - effectiveDownPayment;
                    
                    if (calculatedDownPayment < requiredDownPayment) {
                        initialInput.classList.add('border-red-500');
                    } else {
                        initialInput.classList.remove('border-red-500');
                    }
                }
                else {
                    // Basic mortgage - no limits, use user-specified down payment
                    loanAmount = price * (100 - initialPercent) / 100;
                    initialInput.classList.remove('border-red-500');
                }
                
                // Calculate payment details
                const monthlyRate = ratePercent / 100 / 12;
                const payments = termYears * 12;
                const monthlyPayment = loanAmount * monthlyRate * 
                    Math.pow(1 + monthlyRate, payments) / (Math.pow(1 + monthlyRate, payments) - 1);
                
                const totalPayment = monthlyPayment * payments;
                const totalOverpayment = totalPayment - loanAmount;
                
                // Calculate cashback
                let cashback = 0;
                if (cashbackCheckbox.checked) {
                    cashback = price * cashbackPercentage / 100;
                }
                
                // Update UI
                creditSumEl.textContent = formatPrice(Math.round(loanAmount)) + ' ₽';
                monthlyPaymentEl.textContent = formatPrice(Math.round(monthlyPayment)) + ' ₽';
                overpaymentEl.textContent = formatPrice(Math.round(totalOverpayment)) + ' ₽';
                cashbackEl.textContent = formatPrice(Math.round(cashback)) + ' ₽';
            }

            // Add event listeners
            [priceSlider, initialSlider, termSlider, rateSelect, cashbackCheckbox].forEach(el => {
                el.addEventListener('change', updateCalculator);
                el.addEventListener('input', updateCalculator);
            });

            // Initialize calculator
            updateCalculator();
        });

        // Increase down payment by 1%
        function increaseDownPayment() {
            const initialInput = document.getElementById('initial-input');
            const initialSlider = document.getElementById('initial');
            const currentValue = parseInt(initialInput.value) || 0;
            const price = parseInt(document.getElementById('price-input').value.replace(/\s/g, '')) || 8000000;
            const programType = document.getElementById('rate').options[document.getElementById('rate').selectedIndex].text;
            
            let newValue = currentValue + 1;
            let maxValue = 40; // Default max for standard programs
            
            // Adjust max based on program
            if (programType.includes('Семейная') || programType.includes('Сельская')) {
                maxValue = Math.min(40, Math.max(100 - (6000000 / price) * 100, 0));
            } else if (programType.includes('IT')) {
                maxValue = Math.min(40, Math.max(100 - (9000000 / price) * 100, 0));
            }
            
            // Ensure we don't exceed limits
            if (newValue > maxValue) {
                newValue = maxValue;
            }
            
            if (newValue <= maxValue) {
                initialInput.value = newValue;
                initialSlider.value = newValue;
                document.querySelector('input[name="initial-percent"]').value = newValue;
                updateCalculator();
            }
        }

        // Decrease down payment by 1%
        function decreaseDownPayment() {
            const initialInput = document.getElementById('initial-input');
            const currentValue = parseInt(initialInput.value) || 0;
            const minValue = 0; // No minimum other than 0%
            
            if (currentValue > minValue) {
                const newValue = currentValue - 1;
                initialInput.value = newValue;
                document.getElementById('initial').value = newValue;
                document.querySelector('input[name="initial-percent"]').value = newValue;
                updateCalculator();
            }
        }
    });

        // Property carousel functionality
        document.querySelectorAll('.carousel').forEach(carousel => {
            const inner = carousel.querySelector('.carousel-inner');
            const prev = carousel.querySelector('.carousel-prev');
            const next = carousel.querySelector('.carousel-next');
            const items = carousel.querySelectorAll('img');
            let currentIndex = 0;
            
            function updateCarousel() {
                inner.style.transform = `translateX(-${currentIndex * 100}%)`;
            }
            
            prev.addEventListener('click', () => {
                currentIndex = (currentIndex > 0) ? currentIndex - 1 : items.length - 1;
                updateCarousel();
            });
            
            next.addEventListener('click', () => {
                currentIndex = (currentIndex < items.length - 1) ? currentIndex + 1 : 0;
                updateCarousel();
            });
            
            // Auto-rotate every 5 seconds
            setInterval(() => {
                currentIndex = (currentIndex < items.length - 1) ? currentIndex + 1 : 0;
                updateCarousel();
            }, 5000);
        });

        // Close modal when clicking outside
        const modals = document.querySelectorAll('.modal');
        modals.forEach(modal => {
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.classList.add('hidden');
                }
            });
        });
    </script>

     <script>
        // Initialize Yandex Map with district boundaries
        function initMap() {
            const mapContainer = document.getElementById('districtMap');
            const currentDistrict = "Черемушки (ЧМР)"; // Получать из данных страницы
            
            // Пример координат полигона для выделения района
            const districtCoords = [
                [38.9730, 45.0370],  // Примерные координаты района
                [38.9770, 45.0390],
                [38.9790, 45.0340],
                [38.9750, 45.0310],
                [38.9710, 45.0340]
            ];
            
            // Здесь должна быть логика для работы с API Яндекс.Карт,
            // но она требует API ключа и специальной настройки.
            // В идеале - подгружать координаты границ районов из GeoJSON
            
            console.log(`Карта района "${currentDistrict}" инициализирована`);
        }
        
        // Инициализируем карту после загрузки
        document.addEventListener('DOMContentLoaded', initMap);
        
        // Simple FAQ toggle functionality
        document.querySelectorAll('section.faq button').forEach(button => {
            button.addEventListener('click', () => {
                const answer = button.nextElementSibling;
                const icon = button.querySelector('i');
                
                if (answer.style.display === 'none' || !answer.style.display) {
                    answer.style.display = 'block';
                    icon.classList.remove('fa-chevron-down');
                    icon.classList.add('fa-chevron-up');
                } else {
                    answer.style.display = 'none';
                    icon.classList.remove('fa-chevron-up');
                    icon.classList.add('fa-chevron-down');
                }
            });
        });

        // Smooth scrolling for district links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Enhanced Gallery Functionality
        const initGallery = () => {
            const galleryContainer = document.querySelector('.gallery-container');
            const gallerySlides = document.querySelectorAll('.gallery-slide');
            const galleryNavButtons = document.querySelectorAll('.gallery-nav button');
            
            if (!galleryContainer) return;
            
            // Set initial active state
            galleryNavButtons[0].classList.add('bg-blue-600');
            galleryNavButtons[0].classList.remove('bg-blue-200', 'hover:bg-blue-400');
            
            // Navigation click handlers
            galleryNavButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const slideIndex = parseInt(button.getAttribute('data-slide'));
                    const slide = gallerySlides[slideIndex];
                    
                    // Update button states
                    galleryNavButtons.forEach(btn => {
                        btn.classList.add('bg-blue-200', 'hover:bg-blue-400');
                        btn.classList.remove('bg-blue-600');
                    });
                    button.classList.add('bg-blue-600');
                    button.classList.remove('bg-blue-200', 'hover:bg-blue-400');
                    
                    // Scroll to slide
                    galleryContainer.scrollTo({
                        left: slide.offsetLeft - galleryContainer.offsetLeft - 16,
                        behavior: 'smooth'
                    });
                });
            });
            
            // Auto-update nav on scroll
            galleryContainer.addEventListener('scroll', () => {
                const scrollPosition = galleryContainer.scrollLeft + galleryContainer.offsetWidth / 2;
                
                gallerySlides.forEach((slide, index) => {
                    const slideStart = slide.offsetLeft - galleryContainer.offsetLeft;
                    const slideEnd = slideStart + slide.offsetWidth;
                    
                    if (scrollPosition > slideStart && scrollPosition < slideEnd) {
                        galleryNavButtons.forEach(btn => {
                            btn.classList.add('bg-blue-200', 'hover:bg-blue-400');
                            btn.classList.remove('bg-blue-600');
                        });
                        galleryNavButtons[index].classList.add('bg-blue-600');
                        galleryNavButtons[index].classList.remove('bg-blue-200', 'hover:bg-blue-400');
                    }
                });
            });
            
            // Swipe support for mobile
            let touchStartX = 0;
            let touchEndX = 0;
            
            galleryContainer.addEventListener('touchstart', e => {
                touchStartX = e.changedTouches[0].screenX;
            }, {passive: true});
            
            galleryContainer.addEventListener('touchend', e => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            }, {passive: true});
            
            function handleSwipe() {
                if (touchEndX < touchStartX - 50) {
                    // Swiped left
                    const currentSlideIndex = Array.from(gallerySlides).findIndex(slide => {
                        const rect = slide.getBoundingClientRect();
                        return rect.left >= galleryContainer.getBoundingClientRect().left;
                    });
                    
                    if (currentSlideIndex < gallerySlides.length - 1) {
                        galleryNavButtons[currentSlideIndex + 1].click();
                    }
                }
                
                if (touchEndX > touchStartX + 50) {
                    // Swiped right
                    const currentSlideIndex = Array.from(gallerySlides).findIndex(slide => {
                        const rect = slide.getBoundingClientRect();
                        return rect.left >= galleryContainer.getBoundingClientRect().left;
                    });
                    
                    if (currentSlideIndex > 0) {
                        galleryNavButtons[currentSlideIndex - 1].click();
                    }
                }
            }
        };
        
        // Initialize all components
        document.addEventListener('DOMContentLoaded', () => {
            initGallery();
            
            // Map controls
            document.getElementById('showBorder')?.addEventListener('click', () => {
                alert('Функция "Показать границы" будет работать с реальным API Яндекс.Карт');
            });
            
            document.getElementById('showMarkers')?.addEventListener('click', () => {
                alert('Функция "Основные объекты" будет работать с реальным API Яндекс.Карт');
            });
        });
    </script>
</body>
</html>